/**
 * Whisper が無音区間で出力するハルシネーションパターン。
 * 同一フレーズの繰り返しや定型文を検出して除外する。
 *
 * 新しいパターンを追加する場合はこの配列に正規表現を追加してください。
 * 自動評価 (Claude SDK) によるパターン提案も、このファイルに自動追加されます。
 *
 * パターンは優先度順に配置されています (汎用 → 具体)。
 * 汎用パターンで早期マッチすることでパフォーマンスを向上させています。
 */
export const HALLUCINATION_PATTERNS: RegExp[] = [
  // ============================================
  // Tier 1: 汎用繰り返しパターン (最優先)
  // ============================================
  // 同じ1文字が5回以上連続 (例: あああああ、んんんんん)
  /(.)\1{4,}/,
  // 同じ2-4文字が5回以上連続 (例: 込み込み込み込み込み)
  /(.{2,4})\1{4,}/,

  // ============================================
  // Tier 2: ノイズパターン (ブーブー系)
  // ============================================
  // 「ぷ」の10回以上繰り返し - 無音区間での極端な単一文字ハルシネーション
  /^[ぷ]{10,}([\s.]*[ぷ]{10,})*$/,
  // 「ぷろ」の5回以上繰り返し - 無音区間での繰り返し文字パターン
  /^(ぷろ{5,}[\s.]*)+$/,
  // 「ブー」「ブーブー」の繰り返し (全バリエーション統合)
  /^(ブー+[\s.]*)+$/,
  // 「ブ」「プ」「ぶ」の短い繰り返し (20回以上のハルシネーション対応)
  /^(^[ブーぶ]{20,}$[\s.]*)+$/,
  // 「ブ」「プ」の短い繰り返し
  /^([ブプ]{2,}[\s.]*)+$/,
  // 繰り返し文字ノイズ「・ぷ・ぷ・ぷ」- 中点で挟まれたぷの繰り返し
  /^(^[・.][ぷ]+[・.][ぷ]+[・.][ぷ]+$[\s.]*)+$/,
  // 「ブーバー」パターン
  /^ブーバー[\s.]*$/,
  // ブーブー + あ繰り返し (複合ノイズ)
  /^ブーブー[\s.]*あ{5,}[\s.]*$/,
  // ブーブーで挟まれたコンテンツ
  /^ブーブー.+ブーブー[\s.]*$/,
  // 句読点と孤立音「ぷっ!」の組み合わせ - 無音区間での複合ノイズ誤認識
  /^(^[、・ぷっ!]+$[\s.]*)+$/,
  // 「ぃち」の5回以上繰り返し - 無音区間での極端な文字列ハルシネーション
  // 例: 正規の発話「あいみーてぃちさえ、なんか午後で結構大きい規模になりそうなもんすか?」の後に
  // ぃち文字が40+回繰り返される無音区間でのWhisper誤認識
  /^(ぃち{5,}[\s.]*)+$/,
  // 「りゅう」の5回以上繰り返し - 無音区間での繰り返しノイズ
  // 例: 無音区間で「りゅうりゅうりゅう...」(50+回の繰り返し)
  // 同一シラビック「りゅう」の大量繰り返しで意味的内容なし
  /^(^(?:りゅう){5,}$[\s.]*)+$/,

  // ============================================
  // Tier 3: フィラー音・単一音の繰り返し
  // ============================================
  // ひらがな + 長音/漢字の個別単位が4回以上繰り返し (例: のーとぃんぐのーとぃんぐ...)
  // 無音区間での単語単位の極端な繰り返しハルシネーション (30+回など)
  /^(([あ-ん][ー一-龥ぁ-ん]*?)\1{4,}[\s.]*)+$/,
  // 孤立した「ん」のみ
  /^ん[\s.]*$/,
  // 孤立した「あ」とカンマの短い繰り返し (例: あ、あ、あ)
  /^[あ、]+([\s.]*[あ、]+)*[\s.]*$/,
  // 句読点と短い日本語音の断片 (例: 、さ、う、・す) - ノイズや無音区間での誤認識
  /^(^[、・]?[ぁ-ん]{1,2}[、。]?$[\s.]*)+$/,
  // 句読点のみまたは句読点と任意個数の小さい日本語音の断片 - 意味のない音の断片 (例: 、。かーよなし)
  /^(^[、。]+[ぁ-ん]*[。、]*$[\s.]*)+$/,
  // 「ふん」の5回以上繰り返し (複合ユニット)
  /^(ふん(ふん){4,}[\s.]*)+$/,
  // 「ふん、ふん」の形式 (カンマで区切った2回以上の繰り返し)
  /^(^ふん(、ふん)+$[\s.]*)+$/,
  // 「ふんふんふん」の極端な繰り返し (8+ 回) - 意味不明なシラビック繰り返し
  /^(^ふんふんふん+[\s.]*)+$/,
  // 「ふ」「ん」の繰り返し (5回以上) - 繰り返し文字ノイズ
  /^[ふん]{5,}[\s.]*$/,
  // 「ふ」「ん」の繰り返し (12回以上) - 無音区間でのハルシネーション
  /^[ふん]{12,}[\s.]*$/,
  // 「ふ」のみの繰り返し (100+ 回) - 正規コンテンツ後の無音区間で「ふっふっふ...」に退化するハルシネーション
  /^(^[ふ]+$[\s.]*)+$/,
  // 「ぶん」の繰り返し (100+ 回) - 無音区間での単純繰り返しハルシネーション
  /^(^(ぶん)+$[\s.]*)+$/,
  // 「っ」の5回以上繰り返し - 拗音無音区間ハルシネーション
  /^(っ{5,}[\s.]*)+$/,
  // 「ふん」の極端な繰り返し (100+ 回) - 無音区間での大量ハルシネーション
  /^(ふ+ん+[\s.]*)+$/,
  // 「ふっふ」の繰り返し (3回以上) - リズミカルな無音区間ハルシネーション
  /^(ふ(っふ){3,}[\s.]*)+$/,
  // 「ふぅん」の極端な繰り返し (10回以上) - 無意味な反復フォネティックパターン
  /^((?:ふぅん){10,}[\s.]*)+$/,
  // 「ふぅ.」の5回以上繰り返し - 呼吸音を示す記号の繰り返しハルシネーション
  // 例: 「ふぅ.ふぅ.ふぅ.ふぅ.ふぅ.」(35+回の無音区間ハルシネーション)
  /^((?:ふぅ\.){5,}[\s.]*)+$/,
  // 「なんだっけ、」で始まり「ふぅん」か「ふうん」が5回以上繰り返される
  // 例: 「なんだっけ、ふぅんふぅんふぅん...」(37+回の無音区間ハルシネーション)
  /^(^なんだっけ、(ふ[ぅう]ん[、、]*){5,}.*$[\s.]*)+$/,
  // 「ふんふん」の過度な繰り返し (20回以上) - 無音区間での定型フィラー
  /^(ふんふん[\s.]*){20,}$/,
  // 「ふん」の20回以上の繰り返し - 無音区間での継続的なハルシネーション
  /^(ふん[\s.]*){20,}$/,
  // 「ふん」の極端な繰り返し (50回以上) - 無音で単純反復された長いハルシネーション
  /^(ふん[\s.]*){50,}$/,
  // 純粋な「ふん」の繰り返し (ふん、ふんふん、ふんふんふん等) - 無音区間での定型フィラー
  /^(^ふん+$[\s.]*)+$/,
  // 「はい」「うん」の不自然な繰り返し (3回以上)
  /^(はい[\s]*){3,}$/,
  /^(うん[\s]*){5,}$/,
  // 「はい」の過度な繰り返し (「はいはいはい」など) - 150+ 回の無音区間ハルシネーション
  // 無音区間で肯定応答が延々と繰り返される特性的なパターン
  /^(^(はい)+$[\s.]*)+$/,
  // 「えっと」の5回以上繰り返し + 句読点 - 無音区間でのハルシネーション
  // 例: 正規な発話「体調が悪い」の後に「えっと」が50+回繰り返される無音区間での誤認識
  /^((えっと[,、、。]*){5,}[\s.]*)+$/,
  // 「あっはぁ」の交互繰り返し
  /^(あっ|はぁ){3,}[\s.]*$/,
  // 「おっ」の繰り返し
  /^(おっ){5,}[\s.]*$/,
  // 「はっ」の極端な繰り返し
  /^はっ{5,}[\s.]*$/,
  // 「ふっ」の極端な繰り返し (60+ 回) - 無音区間での単調なハルシネーション
  /^(ふっ{5,}[\s.]*)+$/,
  // 「ふっ」の繰り返し単位 (100+ 回) - 無音区間での単純繰り返しハルシネーション
  // 例: 「ふっふっふっ...」が100+回繰り返される無音区間でのWhisper誤認識
  // 同一シラビック「ふっ」の大量繰り返しで意味的内容なし
  /^(^(ふっ)+$[\s.]*)+$/,
  // 「ボ、ボ、ボ...」の繰り返し - 無音区間での無意味な単一文字繰り返し
  /^(ボ(?:、ボ){4,}[\s.]*)+$/,
  // 「っすよ」の20回以上繰り返し - 無音区間での繰り返し粒子ハルシネーション
  // 例: 正規な内容の後に無音で「っすよっすよっすよ...」(30+回)
  /^((?:っすよ){20,}[\s.]*)+$/,
  // 「あっはっ」の10回以上繰り返し - 無音区間での単調な音素ハルシネーション
  // 例: 無音区間で「あっはっあっはっあっはっ...」(40+回の繰り返し)
  // 笑声と誤認識されるが、文脈なしの純粋な繰り返しはハルシネーション
  /^((?:あっはっ){10,}[\s.]*)+$/,

  // ============================================
  // Tier 4: 日本語定型ハルシネーション
  // ============================================
  // YouTube 終了メッセージ系
  /^(ご視聴ありがとうございました[\s.。]*)+$/,
  /^(^[、]?ご視聴ありがとうございました[。]?$[\s.]*)+$/,
  /^(ありがとうございました[\s.。]*)+$/,
  /^(チャンネル登録(よろしく|を)?お願いします[\s.。]*)+$/,
  /^(お疲れ様でした(お先失礼します)?[\s.。]*)+$/,
  /^(お疲れさまです。\s*お疲れさまです。\s*お疲れさまです。[\s.]*)+$/,
  /^(おやすみなさい[\s.。]*)+$/,
  /^(おわり[\s.。]*)+$/,
  /^(以上です[\s.。]*)+$/,
  // 挨拶の繰り返し (2回以上)
  /^(おはようございます[\s]*){2,}$/,
  // 「おはようございます」の極端な繰り返し (33+ 回) + ドット繰り返し
  // 無音区間での定型挨拶が「おはよう」途中で切れ、ドットが付く極端なハルシネーション
  // 例: 「おはようございます.....おはようございます.....」(33+回)
  /^((おはようございます\.{5,}|おはようございます[、。]*(?=おはようございます))[\s.]*)+$/,
  // 「こんばんは」の繰り返し (4回以上)
  /^(こんばんは[。、]*こんばんは[。、]*こんばんは[。、]*こんばんは[\s.]*)+$/,
  // 「ありがとうございます」の繰り返し + 断片的フィラー (「あっ」含む)
  /^(ありがとうございます{2,}|あっ\s+ありがとうございます[\s.]*)+$/,
  // 挨拶フレーズの不自然な繰り返し
  /^(ありがとうございます|お疲れ様でした|失礼します|お疲れ様です)(.{0,30}(ありがとうございます|お疲れ様でした|失礼します|お疲れ様です))+$/,
  // 人名 + 「お疲れ様で[ーす]*」の極端な繰り返し (5回以上)
  // 例: 「さかい さんお疲れ様でーす」が16+回繰り返される無音区間ハルシネーション
  /^(^(.+?お疲れ様で[ーす]*){5,}[\s.]*)+$/,

  // ============================================
  // Tier 5: 英語定型ハルシネーション
  // ============================================
  /^(Thank(s| you)? for watching[\s.]*)+$/i,
  /^(Subscribe[\s.]*)+$/i,

  // ============================================
  // Tier 6: 記号・ノイズのみ
  // ============================================
  /^(\.+\s*)+$/,
  // 繰り返しの句読点 (、・) - OCR または無音区間ノイズ
  /^(^[、・\s]+$[\s.]*)+$/,
  // 純粋な句読点とドットのみ - 無音区間やOCR破損
  /^(^[、・\s.]+$[\s.]*)+$/,
  // 中点のみの繰り返し - 無音区間での定型記号
  /^(^[・\s・]+$[\s.]*)+$/,
  // 中点が3個以上スペース区切りで繰り返される - 無音区間での定型記号ハルシネーション
  /^(・\s*・\s*・(\s*・)*[\s.]*)+$/,
  // 句読点とハイフンのみ - 無意味な記号の繰り返し
  /^(^[・、\-、]+$[\s.]*)+$/,

  // ============================================
  // Tier 7: 意味不明フレーズ (個別)
  // ============================================
  // 特定の意味不明な固有名詞・フレーズ
  /^(^ふんっ、?$[\s.]*)+$/,
  // 単一不完全発話「ふんっ、」- ためらい/フィラー音で無意味な通信意図なし
  /^(ふん[っ、]*[\s.]*)+$/,
  /^(ティムマクローはこう言ってた)+$/,
  /^(レベルは死んだ囮のようです[\s.]*)+$/,
  /^(デジョン\.ハブ[\s.]*)+$/,
  /^(ニューパートナーズ[\s.]*)+$/,
  /^(オーブンスヘッドレッシュ[\s.]*)+$/,
  /^(いったんぽい!\s*)+$/,
  // 「あ、んじゃ」の繰り返し - フィラー音・無意味なセグメント繰り返し
  /^(あ、んじゃ[。、]*[\s.]*)+$/,

  // ゲーム・広告系の誤認識
  /^(スパイク成功|応援が必要|北に向かっている|オンラインカジノ[\s.]*)+$/,

  // 不完全な音声フラグメント (AI meeting の誤認識)
  // 例: 「あいみーてぃんぐのー」(a-i-meeting の誤ろ音化)
  /^(^あいみ[ー一].*のー?$[\s.]*)+$/,

  // 技術用語の誤認識
  /^(ベースプライス|チレンター|スキラー)+[\s.]*$/,

  // 不完全な発話フラグメント (文字起こしアーティファクト)
  /^(総通りっていうか、?まあ[\s.]*)+$/,

  // 意味不明なシラビック
  /^(えっえっ|あっ救急|なぁなんか[\s.]*)+$/,
  /^(お、お、お[\s.]*)+$/,
  /^(ああそう|ロッパになりん[\s.]*)+$/,
  /^(自分自分|いいジョブアンテナ[\s.]*)+$/,
  // 不完全な発話フラグメント (年齢関連の断片的ハルシネーション)
  // 例: 「いいっすね年齢年齢年齢制限している」などの意味不明な単語の組み合わせ
  /^(年齢\d*と(か|が).*年齢制限[\s.]*)+$/,

  // ============================================
  // Tier 8: 複合パターン (構造的ハルシネーション)
  // ============================================
  // 疑問文の5回以上の繰り返し
  /^((\S+は\S+ですか\?)\s*){5,}$/,

  // 「X の X の X の X」形式 (4回以上)
  /^([^、。]+)(の\1){3,}[\s.]*$/,

  // 文脈喪失パターン (断片的フレーズの組み合わせ)
  /^(うん|まあ|えー).*(なんで|んですかね).*(こっなんなんで|何まあ)[\s.]*$/,

  // ============================================
  // Tier 9: 特定フレーズの極端な繰り返し
  // ============================================
  // 「1万円」の5回以上繰り返し
  /^(1万円[\s]*){5,}$/,

  // 「ジョブアンテナー」の5回以上繰り返し
  /^(ジョブアンテナー[\s]*){5,}$/,

  // 日本語文字の極端な繰り返し (汎用)
  // 例: ジョブアンテナー12回、その他フレーズの多数繰り返し
  /^(([ぁ-ん一-龯ァ-ヴー・々〆〤ー]+)\2{4,}[\s.]*)+$/,

  // 「自分として」の5回以上繰り返し
  /^(自分として[\s]*){5,}$/,

  // 「アリティング」の5回以上繰り返し
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「ドット・エンディングノート」が明確に発話された後に無音で「アリティング」が35+回繰り返される
  /^(アリティング{5,}[\s.]*)+$/,

  // 「〜としては」形式の5回以上繰り返し (複合ハルシネーション)
  // 例: マンニングとしては、いらっしゃるんで... が10+回繰り返される無音区間ハルシネーション
  /^(((.*?としては.*?){5,})[\s.]*)+$/,

  // 「安田さん」の極端な繰り返し (50+ 回)
  // 無音区間で名前が延々と繰り返されるハルシネーション
  /^((?:安田さん\.?){5,}[\s.]*)+$/,

  // 「バリデーション」「ユーザー」の極端な繰り返し
  /^(バリデーション[\s]*){5,}$/,
  /^(ユーザー[\s]*){3,}$/,

  // 「していっ」の極端な繰り返し
  /^(していっ[\s]*){5,}$/,

  // 「ブーブー言っ」の繰り返し
  /^(ブーブー言っ[\s]*){2,}$/,

  // 「パーソナル」の極端な繰り返し (スペース区切り, 31+ 文字)
  // 例: 「パーソナル パーソナル パーソナル...」(5回以上)
  // 無音区間での単語の無限ループハルシネーション
  /^(パーソナル(\sパーソナル){5,}[\s.]*)+$/,

  // 「ギット」の中点区切り繰り返し
  // 例: 「・ギット・ギット・ギット・ギット」などの
  /^・?ギット(・ギット)*[\s.]*$/,

  // 「てるやん、」の極端な繰り返し (30+ 回)
  // 無音区間での意味不明フレーズの大量繰り返し
  /^([てるやん、\s]+[\s.]*)+$/,

  // 「ってぃんぐのー」の極端な繰り返し (11+ 回)
  // 無音区間でのWhisper誤認識 - 低品質な音声フラグメントの連続
  /^(ってぃんぐのー.*?(?=\s|$)[\s.]*)+$/,

  // 「そもそも会社は取ってきてるのか」の繰り返し
  // 無音区間での曖昧な音声からの固定フレーズ繰り返しハルシネーション
  /^(そもそも会社は取ってきてるのか(\s*そもそも会社は取ってきてるのか)+[\s.]*)+$/,

  // 「ノーションデータとか」の極端な繰り返し (5+ 回)
  // 無音区間での同一フレーズの大量繰り返しハルシネーション
  // 例: 「ノーションデータとかを見てるのかな?」が8+回繰り返される
  /^(ノーションデータとか.*?(?:ノーションデータとか.*?){4,}[\s.]*)+$/,

  // 「西川さん、いらっしゃいます?」の極端な繰り返し (5+ 回)
  // 無音区間での人名を含む疑問文の大量繰り返しハルシネーション
  // 例: 「西川さん、いらっしゃいます?」が20+回繰り返される (感謝の言葉挿入含む)
  /^(([\w、]*西川さん[\w、]*いらっしゃいます\?){5,}[\s.]*)+$/,

  // 「シティオがつけてるんです」「マークされてます」の極端な繰り返し (5+ 回)
  // 無音区間での同一フレーズの大量繰り返しハルシネーション
  // 例: 「シティオがつけてるんですか」「マークされてますか」が17+回繰り返される
  /^((?:シテ?ィオがつけてるんです|マークされてます)[か？]*(?:\s*(?:シテ?ィオがつけてるんです|マークされてます)[か？]*){4,}[\s.]*)+$/,

  // 「あいみーてぃんぐのーと」の極端な繰り返し (5+ 回)
  // 無音区間でのWhisper誤認識 - 「ai meeting note」の不完全な音声化が純粋に繰り返される
  // 形態論的には構造があるが、文脈なしの純粋な繰り返しはハルシネーション
  /^((?:あいみーてぃんぐのーと){5,}[\s.]*)+$/,

  // 「稲葉さんのやつどこだ?」の極端な繰り返し (18+ 回)
  // 無音区間での極度な単一フレーズハルシネーション
  // 例: 「稲葉さんのやつどこだ?稲葉さんのやつどこだ?稲葉さんのやつどこだ?...」(18+回の繰り返し)
  // 同一フレーズの大量繰り返しで意味的内容なし
  /^(稲葉さんのやつどこだ\?[\s.]*)+$/,

  // 「そいそい」の20回以上繰り返し
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「うん、オーグってやつ使ったほうがよ」→ 無音で「そいそい」(100+回)の退化パターン
  /^(そいそい{20,}[\s.]*)+$/,

  // 「そりゃあ」の5回以上繰り返し（読点可含む）
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「そりゃあ、そりゃあ、そりゃあ...」(44+回の無音区間ハルシネーション)
  // フレーズの極端な繰り返しで意味的内容なし
  /^(^(あ、)?そりゃあ(、そりゃあ){5,}[\s.]*)+$/,

  // 「あふのせいじゃないですかって」の極端な繰り返し (25+ 回)
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「あふのせいじゃないですかって」が25+回繰り返される無音区間でのWhisper誤認識
  // 同一フレーズの大量繰り返しで意味的内容なし
  /^(あふのせいじゃないですかって(?:\s*あふのせいじゃないですかって){4,}[\s.]*)+$/,

  // 「重い」の極端な繰り返し (10+ 回)
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「重い」が50+回繰り返される無音区間でのWhisper誤認識
  // 同一単語の大量繰り返しで意味的内容なし
  /^(重い[、]*(?:重い[、]*){10,}[\s.]*)+$/,

  // 「あいみーてぃん」の極端な繰り返し (25+ 回)
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「あいみーてぃん」が25+回繰り返される無音区間でのWhisper誤認識
  // 同一シラビックの大量繰り返しで意味的内容なし
  /^(^(あいみーてぃん[、、]?)+$[\s.]*)+$/,
  // 「あい」の純粋な繰り返し (56+ 文字)
  // 無音区間での単純繰り返しハルシネーション
  // 例: 「あいあいあいあい...」が純粋に繰り返される無音区間でのWhisper誤認識
  // 音節レベルの最小単位での大量繰り返しで意味的内容なし
  /^(^(あい){5,}$[\s.]*)+$/,

  // ============================================
  // Tier 10: 極端な単一文字繰り返し (80+ 回)
  // ============================================
  // 「あ」とカンマの過度な繰り返し (20+ 文字単位で複数回)
  // 例: あ、あ、あ、あ、... (80+ 文字連続)
  /^([あ、]{20,}[\s.]*)+$/,
  // 「あ、あ、あ、...」の構造的な繰り返し (5回以上のユニット)
  // 例: あ、あ、あ、あ、あ (39回など)
  // 無音区間での定型的な単一文字繰り返しハルシネーション
  /^(^あ[、，]*(?:あ[、，]*){4,}$[\s.]*)+$/,
  // 「あ」5回以上の繰り返し + カンマ (フィラー音ハルシネーション)
  // 例: あああああ、 または あああああああああ
  // 無音区間で繰り返される意味不明なフィラー音
  /^(^[あ]{5,}[、，]*$[\s.]*)+$/,
  // 「あ」の後に読点が6回以上連続繰り返し (単一文字 + 句読点の繰り返しハルシネーション)
  // 例: あ、、、、、、 または あ、、、、、、あ、、、、、、
  // 無音区間での読点による単調なノイズハルシネーション
  /^(^あ[、、、、、]+$[\s.]*)+$/,
  // 「あ」5回以上の連続繰り返し (カンマなし - 101回の「あ」など)
  // 例: あああああああああああああああああああああ... (101+回の無音区間ハルシネーション)
  // 音声なし区間で「あ」が単純に繰り返されるハルシネーション
  /^(^[あ]{5,}$[\s.]*)+$/,
  // 「あ」50回以上の繰り返し - 極端な単一文字ハルシネーション
  // 例: あああああああああああああああああああああああああああああ... (100+回の無音区間繰り返し)
  // 初期コンテンツが若干あっても圧倒的な「あ」の繰り返しで意味的完全性が喪失
  /^(あ{50,}[\s.]*)+$/,
  // 「、あ、あ。」の短い繰り返しハルシネーション (2-3回)
  // 例: 、あ、あ。 (無音区間での最小限の繰り返し)
  // 意味的内容なし、読点とあの単純な組み合わせのみ
  /^(^、?あ[、、]*あ[、。]*$[\s.]*)+$/,
  // 「あ」の繰り返しハルシネーション (10+ 回以上)
  // 例: はい、それが、あ、あ、あ... (100+ 回の「あ」繰り返し)
  // 無音区間で「あ」が定型フィラーパターンで繰り返されるハルシネーション
  /^(あ[、，]{1,}|あ(?:[、，]?あ){10,}[\s.]*)+$/,
  // 「あ、あ、あ、...」の50回以上繰り返し - 単一文字の極端なハルシネーション
  // 例: あ、あ、あ、... (100+ 文字の無音区間繰り返し)
  // Whisper が無音区間で単一音「あ」と読点の定型パターンを延々と繰り返す場合
  /^(^あ(、あ){50,}$[\s.]*)+$/,
  // 「あう」の繰り返し + 句点 - 無意味な音素の繰り返し
  // 例: あう。。。あう。。。
  // 無音区間での繰り返し意味不明フレーズハルシネーション
  /^(^あう[。。。]+$[\s.]*)+$/,

  // 拗音 (ぅ、ぇ、ぉ) の長時間連続繰り返し
  // 例: あさってはいらっしゃるぅ + ぅぅぅぅ... (80+ 文字連続)
  // Whisper による無音区間での伸ばし音ハルシネーション
  /^([ぅぇぉ]{20,}|[ぁ-ん]([ぅぇぉ])\2{15,}[\s.]*)+$/,

  // 孤立した無意味な単一音「なんか」「あ」「え」
  // 例: 「なんか」のみ、「あ」のみ、「え」のみで文脈なし
  // 無音区間での最小限のハルシネーション、または誤認識
  /^(?:なんか|あ|え)$/,
  // 「え」の20回以上繰り返し
  // 例: 「ああ、ちょっとまた 笹子さんに つつかれるかもしれんですねえ」→ 無音でハルシネーション
  // Whisper が無音区間で「え」のみを100+回繰り返す場合
  /^(え{20,}[\s.]*)+$/,
  // 「め」の20回以上繰り返し
  // 例: 正規な開き台詞の後に無音で「めめめめ...」(50+回)が繰り返される無音区間ハルシネーション
  // 単一文字の極端な繰り返しで意味的内容なし
  /^(め{20,}[\s.]*)+$/,
  // 「あ〜」の50回以上繰り返し - 伸ばし音ハルシネーション
  // 例: あ〜あ〜あ〜... (100+回の無音区間繰り返し)
  // 正規な開き台詞 (これどう?うーん) から無音でハルシネーションする伸ばし音パターン
  /^(あ〜{50,}[\s.]*)+$/,
  // 任意の小書き仮名の10回以上繰り返し
  // 例: すすすすすすすすす... (60+回の「す」繰り返し、または他の小書き仮名)
  // 無音区間での単調な反復ハルシネーション
  /^(^[ぁ-ん]{10,}$[\s.]*)+$/,

  // ============================================
  // Tier 11: 複数文字の繰り返し (スペース区切り対応)
  // ============================================
  // 複数の日本語文字が5回以上スペース区切りで繰り返される
  // 例: 「藤 藤 藤 藤 藤」などの無音区間ハルシネーション
  /^(^[ァ-ヺ一-龯々〆〤]+(\s*[ァ-ヺ一-龯々〆〤]+){4,}$[\s.]*)+$/,

  // ============================================
  // Tier 12: 単語の極端な繰り返し (中点・読点区切り)
  // ============================================
  // 「アウトカム」などの単語が20回以上、中点・読点で区切られて繰り返される
  // 例: アウトカム・アウトカム・アウトカム... (37+回の無音区間繰り返し)
  // 単語の繰り返しハルシネーション (意味的な内容なし、リズミカルな繰り返し)
  /^(^(\S+[・、]?){20,}$[\s.]*)+$/,

  // ============================================
  // Tier 13: は の極端な繰り返し
  // ============================================
  // 「は」の30回以上繰り返し - 無音区間での単一文字ハルシネーション
  // 例: はははははははははは... (50+回の「は」繰り返し)
  // 正規な発話後の無音セクションで繰り返されるハルシネーション
  /^(は{30,}[\s.]*)+$/,

  // ============================================
  // Tier 14: 複合パターン (複数のハルシネーション特性)
  // ============================================
  // 「特異本、」の4回以上繰り返しまたは「笑」の20回以上繰り返し
  // 例: 「特異本、特異本、特異本、特異本、」または「笑笑笑笑...笑」(50+回)
  // 正規な開き台詞を含みつつ無音区間で複数の異なるハルシネーション特性が現れる場合
  /^((?:特異本、){4,}|笑{20,}[\s.]*)+$/,
];

/**
 * テキストがハルシネーションパターンに一致するかを判定する。
 *
 * @param text - 判定対象のテキスト
 * @returns ハルシネーションの場合は true
 */
export function isHallucination(text: string): boolean {
  const trimmed = text.trim();
  if (!trimmed) return true;
  return HALLUCINATION_PATTERNS.some((pattern) => pattern.test(trimmed));
}
